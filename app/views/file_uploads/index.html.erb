<h1>My Uploaded Files</h1>

<%= link_to 'Upload New File', new_file_upload_path, class: "btn btn-primary" %>

<% if @file_uploads.any? %>
  <table>
    <thead>
      <tr>
        <th>title</th>
        <th>Description</th>
        <th>Size (MB)</th>
        <th>Uploaded At</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @file_uploads.each do |file| %>
        <tr>
          <td><%= file.title %></td>
          <td><%= file.description.presence || "â€”" %></td>
          <td><%= (file.file.byte_size / 1.0.megabytes).round(2) %></td>
          <td><%= file.created_at.strftime('%Y-%m-%d %H:%M') %></td>
          <td>
            <%= link_to 'Download', download_file_upload_path(file), method: :get %> |
<%= form_with url: file_upload_path(file), method: :delete, local: true do %>
  <%= submit_tag "Delete", data: { confirm: "Are you sure?" } %>
<% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No files uploaded yet.</p>
<% end %>
